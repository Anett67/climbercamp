
{% extends 'base.html.twig' %}

{% block title %}Publications{% endblock %}

{% block pageTitle %}

Mes publications

{% endblock %}

{% block body %}


        {% if posts|length > 0 %}
            {% for post in posts %}
            <div class="row justify-content-center justify-content-lg-end mt-5 mb-5">
                <div class="profil-block col-10 col-lg-9 justify-content-center p-lg-3 pt-3">
                    <div class="row justify-content-between align-items-center">
                        {# Image de la publication #}
                        <div class="col-md-3">
                            {% if post.image %}
                                <img src="{{ asset('upload/posts/' ~ post.image) }}" class="w-100" alt="Photo liée à la publication">
                            {% else %}
                                <img src="{{ asset('upload/placeholder-image.png') }}" class="w-100" alt="Placeholder image">
                            {% endif %}
                        </div>
                        {# Contenu de la publication #}
                        <div class="col-md-5">
                            <p class="post-body p-0">{{ post.body }}</p>
                        </div>
                        <div class="col -6 col-md-2 date">
                            {# Date de création #}
                            <div>
                               {{ post.createdAt|ago }} 
                            </div>
                            {# Nombre des commentaires et lien vers la page de la publication #}
                            <div class="mt-2">
                                <a href="{{ path('single-post', {'id': post.id}) }}">
                                    Voir les commentaires ({{ post.postComments|length }})
                                </a>
                            </div>
                        </div>
                        <div class="col-6 col-md-2 icons text-right">
                            <a href=""><i class="fas fa-edit m-3"></i></a>
                            <a href=""><i class="fas fa-trash-alt m-3"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
            
        {% else %}
        
        {# Le bloc qui s'affiche si la personne n'a pas de publication #}

        <div class="row justify-content-center justify-content-lg-end">
            <div class="post-form-block col-10 col-lg-9 mt-3 p-2 ">
                <p class="p-2">Vous n'avez aucune publication</p>
            </div>
        </div>

        {% endif %}

    

{% endblock %}